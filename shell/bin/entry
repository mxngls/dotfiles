#!/bin/bash

# Create a new journal entry or modify its date if it already exists
entry() { 
  set -eu

  if [[ -z $1 ]]; then
    new_entry="$(date +%Y-%m-%d).md"
    touch "$new_entry"
  else
    new_entry=$1
  fi;

  if [[ $(cat "$new_entry" | wc -l | bc ) == 0 ]]; then 
    echo "# $(date)\n" > "$new_entry";
  else; 
    echo "\n# $(date)" >> "$new_entry";
  fi;

  vim "$new_entry"
}
